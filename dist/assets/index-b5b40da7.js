import{ag as o}from"./index-dcbaf21f.js";const c="@shared",m=t=>`${t}${c}`,l=t=>{const a=t.split("-"),e=a[a.length-1];return e.includes(c)?e:""},d=async(t,a)=>{const e=t._id;let s=t._id;const r=l(e);console.log({id:e,sharedSign:r,ownerSharedSign:a}),r?r!==a&&(s=s.replace(r,a)):s=`${s}-${a}`;const u={playlist:{sharedId:s,name:t.name,songs:t.songs.map(n=>({name:n.name,author:n.author,thumbnail:n.thumbnail,youtubeURL:n.youtubeURL}))}};return await o({path:"/share/create",method:"POST",payload:u})},g=async t=>await o({path:"/share/get",method:"POST",payload:t});export{d as c,g,m as s};
